/**
 * Kendo UI v2025.1.227 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.textbox.js";const __meta__={id:"otpinput",name:"OTPInput",category:"web",description:"The OTPInput widget provides a rich input for selecting values or ranges of values.",depends:["core","textbox"]};!function(e,t){var n=window.kendo,i=n.ui.Widget,a=n.ui.TextBox,r="k-hidden",o=n.ui,l=n.keys,s="k-otp-input",p="k-otp-separator",u="k-input-inner",d=".kendoOtpInput",f="change",c="k-input-group",v="k-invalid",_=/^[0-9]\d*$/,h="right",g="left",m="focus",y=i.extend({init:function(t,a){var r=this;i.fn.init.call(r,t,a),a=e.extend(!0,{},a),r.options.value=a.value||r.element.val(),r.options.separator=n.isPresent(a.separator)?a.separator:null,r.options.inputMode=a.inputMode||e(t).attr("inputmode")||"text",r._wrapper(),r._renderGroups(r.options.items),r._attachHandlers(),r.value(r.options.value),r.element.on(f+d,r._change.bind(r))},events:[f],options:{name:"OTPInput",type:"text",value:"",placeholder:"",separator:null,readonly:!1,enable:!0,space:!1,size:"medium",rounded:"medium",fillMode:"solid"},enable:function(t){let i=this._inputs;n.isEmpty(i)||e(i).each((function(){this.getKendoTextBox().enable(t)}))},readonly:function(t){let i=this._inputs;n.isEmpty(i)||e(i).each((function(){this.getKendoTextBox().readonly(t)}))},focus:function(){let e=this._inputs;n.isEmpty(e)||e[0].focus().select()},value:function(n){let i=this,a=i._groupLength,r=i.options.type;if(n===t)return i._value;if(null===n&&(i.element.val(n),i._value=n,i._emptyValues()),a>0&&n){if(i._emptyValues(),!i._validate(r,n))return;let t=n.toString().split("");t.length>a&&(t=t.splice(0,a)),i._inputs.forEach((function(n,i){let a=t.at(i);e(n).val(a)}));let o="";i._inputs.forEach((function(t){o=o+=e(t).val()})),i.element.val(o),i._value=o}},destroy:function(){let t=this,a=t._inputs;if(!n.isEmpty(a)){a.forEach((function(t){let n=e(t)[0];e(n).getKendoTextBox().destroy()})),a.map((function(t){return e(t)[0].closest(`.${s}`)})).forEach((function(t){e(t).remove()})),t.wrapper.find(`.${c}`).remove(),t.wrapper.find(`.${p}`).remove(),t.element.unwrap().removeClass(r).removeAttr("type").removeAttr("aria-hidden"),i.fn.destroy.call(t)}},setOptions:function(e){let t=this;t.destroy(),n.deepExtend(this.options,e),t.init(t.element,e)},_change:function(e){let t=this,n=t.element.val();t._value=n,t.trigger(f,{value:n})},_wrapper:function(){let e,t=this,i=t.element,a=n.cssProperties.defaultValues.size[t.options.size];e=i.addClass(r).attr("type","hidden").attr("aria-hidden",!0).wrap(`<div class='k-otp k-otp-${a||"md"}' role="group" ></div>`).parent(),t.wrapper=e},_renderGroups:function(t){let i=this,a=i.options.separator,r=[];if(i._inputs=[],n.isInteger(t)){i._groupLength=t;for(let n=0;n<t;n++){let t=i._renderInput(n+1);r.push(t),i._inputs.push(e(t).find(`.${u}`))}if(i.options.space)i.wrapper.append(r);else{let t=e(`<div class="${c} k-input-group-solid"></div>`).append(r);i.wrapper.append(t)}r=[]}else if(Array.isArray(t)){i._groupLength=t.reduce(((e,{groupLength:t})=>e+t),0);let o=0;t.forEach((function(l,s){if(l.groupLength){for(let t=0;t<l.groupLength;t++){++o;let t=i._renderInput(o);r.push(t),i._inputs.push(e(t).find(`.${u}`))}if(i.options.space)s!=t.length-1&&r.push(i._renderSeparator()),i.wrapper.append(r);else{let o=e(`<div class="${c} k-input-group-solid"></div>`).append(r);i.wrapper.append(o),n.isPresent(a)&&s!=t.length-1&&i.wrapper.append(i._renderSeparator())}r=[]}})),o=0}},_renderInput:function(t){let n,i=this,r=i.options.inputMode;n=e("<input>").addClass(u).attr("inputmode",r).attr("type","password"==i.options.type?"password":"text").attr("aria-label","numeric"==i.options.type?`Enter Otp Numerical Character ${t}`:`Enter Otp Character ${t}`).attr("placeholder",i.options.placeholder).attr("autocomplete","off").attr("maxlength",1);let o=e.extend({},{maxLength:1,size:i.options.size,rounded:i.options.rounded,fillMode:i.options.fillMode,enable:i.options.enable,readonly:i.options.readonly}),l=new a(n,o).wrapper;return l.removeClass(u).addClass(s),l},_renderSeparator:function(){let t=this.options.separator,i=e(`<div class="${p}"></div>`);return n.isPresent(t)&&(n.isFunction(t)?i.append(t()):i.append(t)),i},_input:function(n){let i=this,a=n.currentTarget,r=i._inputs.length,o=i._oldValue,l=n.currentTarget.value,p=i.options.type;if(!i._validate(p,l))return i._blinkInvalidState(a),e(a).val(""),o!=t&&(e(a).val(o),delete i._oldValue),void e(a).trigger(m);let d=e(i.wrapper).find(`.${s}`),c=d.find(":focus"),v=d.find(`.${u}`).index(c),_=i._inputs.map((function(t){return e(t).val()})).join("");_!=i._value&&(i.element.val(""),i.element.val(_),i._value=_,i.trigger(f,{value:_})),i._moveFocus(undefined,v,r,h)},_attachHandlers:function(){let e=this,t=e._inputs,i=`.${u}`;n.isEmpty(t)||e.wrapper.on("focus"+d,i,e._focus.bind(e)).on("beforeinput"+d,i,e._beforeInput.bind(e)).on("input"+d,i,e._input.bind(e)).on("keydown"+d,i,e._keyDown.bind(e)).on("paste"+d,i,e._paste.bind(e))},_beforeInput:function(n){let i=this,a=n.currentTarget;if(a&&e(a).val()!=t){let t=e(a).val();i._oldValue=t}},_focus:function(t){let n=t.currentTarget;n&&e(n).select()},_validate:function(e,t){return"number"!=e||_.test(t)},_paste:function(t){let i,a=this,r=a._inputs,o=a.options.readonly,l=n.support.isRtl(a.element),p=e(a.wrapper).find(`.${s}`),u=a.options.type,d=(t.clipboardData||t.originalEvent.clipboardData||window.clipboardData).getData("text");if(t.preventDefault(),d&&1!=o){if(!a._validate(u,d))return this._blinkInvalidState.bind(a),void this._blinkInvalidState(a.wrapper);if(a.value(d),a.trigger(f,{newValue:a._value}),l){if(a._value.length==a._inputs.length)i=a._shiftFocus(p,0,g);else{let t=r.map((function(t){return e(t)})).filter((function(e){let t=e.val();return""==t||n.isBlank(t)})),a=e(t)[0];i=e(a).closest(`.${s}`)}e(i).find("input").trigger(m)}else{if(a._value.length==a._inputs.length)i=a._shiftFocus(p,p.length-2,h);else{let t=r.map((function(t){return e(t)})).filter((function(e){let t=e.val();return""==t||n.isBlank(t)})),a=e(t).first()[0];i=e(a).closest(`.${s}`)}e(i).find("input").trigger(m)}}},_keyDown:function(t){let i,a=this,r=t.keyCode||t.which,o=t.currentTarget,p=a._inputs.length,d=e(a.wrapper).find(`.${s}`),c=d.find(":focus"),v=""!=c.val(),_=d.find(`.${u}`).index(c),y=n.support.isRtl(a.element);if(!(t.target!=o||t.ctrlKey||r>=112&&r<=123||r>=96&&r<=111||t.shiftKey&&r==l.TAB||r==l.TAB))if(r===l.LEFT&&!y||t.keyCode===l.RIGHT&&y)i=a._shiftFocus(d,_,g),a._moveFocus(i,_,p,g),t.preventDefault();else if(r===l.LEFT&&y||t.keyCode===l.RIGHT&&!y)i=a._shiftFocus(d,_,h),a._moveFocus(i,_,p,h),t.preventDefault();else if(r===l.DELETE){if(t.preventDefault(),!e(c).is("[readonly]")){c.val("");let t=a._inputs.map((function(t){return e(t).val()})).join("");v&&(a._value=t,a.trigger(f,{value:t})),a.element.val(""),a.element.val(t)}}else if(r==l.BACKSPACE&&(t.preventDefault(),i=a._shiftFocus(d,_,g),!e(c).is("[readonly]"))){c.val("");let t=a._inputs.map((function(t){return e(t).val()})).join("");v&&(a._value=t,a.trigger(f,{value:t})),a.element.val(""),a.element.val(t),(_>0&&!y||_==d.length-1&&y||_>0&&!y||_>0&&y)&&i.find("input").trigger(m)}},_shiftFocus:function(t,n,i){switch(i){case h:return n+1===t.length?t.eq(0):e(t[n+1]);case g:return 0===n?t.eq(t.length-1):e(t[n-1]);default:return null}},_moveFocus:function(t,n,i,a){let r=this,o=e(r.wrapper).find(`.${s}`);a==h?n!=i-1&&r._shiftFocus(o,n,h).find("input").trigger(m):a==g&&n>0&&r._shiftFocus(o,n,g).find("input").trigger(m)},_emptyValues:function(){this._inputs.forEach((function(t){e(t).val("")}))},_blinkInvalidState:function(t){let n=this,i=e(t).hasClass("k-otp");n._addInvalidState.bind(n),n._addInvalidState(t,i),clearTimeout(n._invalidStateTimeout),n._invalidStateTimeout=setTimeout((function(){n._removeInvalidState.bind(n),n._removeInvalidState(t,i)}),100)},_addInvalidState:function(t,i=!1){let a=this._inputs;if(i){if(!n.isEmpty(a)){let t=a.map((function(t){return e(t).closest(`.${s}`)}));e(t).each((function(){e(this).addClass(v)}))}}else e(t).closest(`.${s}`).addClass(v)},_removeInvalidState:function(t=!1){let i=this,a=i._inputs;if(t){if(!n.isEmpty(a)){let t=a.map((function(t){return e(t).closest(`.${s}`)}));e(t).each((function(){e(this).removeClass(v)}))}}else e(i).closest(`.${s}`).removeClass(v);i._invalidStateTimeout=null}});n.cssProperties.registerPrefix("OTPInput","k-input-"),o.plugin(y)}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.otpinput.js.map
