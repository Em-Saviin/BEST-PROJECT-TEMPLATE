/**
 * Kendo UI v2025.1.227 (http://www.telerik.com/kendo-ui)
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.draganddrop.js";import"./kendo.icons.js";const __meta__={id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop","icons"],advanced:!0};!function(e){var r=window.kendo,a=r._outerWidth,t=r._outerHeight,n=r.getOffset,d=r.ui.Widget,o="change",i=d.extend({init:function(e,r){var i=this;d.fn.init.call(i,e,r),e=i.element,r=i.options,i._initDraggable(),i.options.dropFilter||(i.options.dropFilter=i.draggable.options.filter),i.reorderDropCue=i.options.reorderDropCue,e.find(r.dropFilter).kendoDropTarget({group:i.draggable.options.group,dragenter:function(e){var d=i._externalDraggable(e);if(i._draggable||d){d&&i._handleExternalDraggable(d);var o,l=this.element,g=!!i._isPartOfSortable(i._draggable)&&(!i._dropTargetAllowed(l)||i._isLastDraggable());if(i.toggleHintClass(e.draggable.hint,g),!g){var s={top:(o=n(l)).top,left:o.left},_="horizontal"===r.orientation;!r.smartPosition||r.inSameContainer&&!r.inSameContainer({source:l,target:i._draggable,sourceIndex:i._index(l),targetIndex:i._index(i._draggable)})?i._dropTarget=l:i._index(l)>i._index(i._draggable)&&r.smartPosition&&(s[_?"left":"top"]+=_?a(l):t(l)),i.reorderDropCue.css({height:t(l),top:s.top,left:s.left,zIndex:19e3}),r.positionDropCue&&r.positionDropCue(i.reorderDropCue,l),i.reorderDropCue.appendTo(document.body)}}},dragleave:function(e){i._dropTarget=null},drop:function(){if(i._dropTarget=null,i._draggable){var e=this.element,r=i._draggable,a=i._index(e),t="horizontal"===i.options.orientation?n(i.reorderDropCue).left>n(e).left:n(i.reorderDropCue).top>n(e).top;a=t?a+1:a,!i._dropTargetAllowed(e)||i._isLastDraggable()||i._index(r)===a&&!i.options.allowDropAfterLastItem||i.trigger(o,{element:i._draggable,target:e,oldIndex:i._index(r),newIndex:i._index(e),position:t?"after":"before"}),i.reorderDropCue&&i.reorderDropCue.remove()}}}),i.draggable.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:i._dragcancel.bind(i),dragend:i._dragend.bind(i),dragstart:i._dragstart.bind(i),drag:i._drag.bind(i)})},options:{name:"Reorderable",filter:"*",orientation:"horizontal",deniedIcon:"cancel",allowIcon:"plus",reorderDropCue:e('<div class="k-reorder-cue"></div></div>'),smartPosition:!0},events:[o],toggleHintClass:function(a,t){var n=this.options;(a=e(a)).find(".k-drag-status").length>0&&r.ui.icon(a.find(".k-drag-status").eq(0),{icon:t?n.deniedIcon:n.allowIcon})},_initDraggable:function(){let e=this,a=e.options;e.draggable=a.draggable||new r.ui.Draggable(e.element,{group:r.guid()+"-reorderable",autoScroll:!0,filter:a.filter,hint:a.hint});let t=e.draggable._elementUnderCursor;e.draggable._elementUnderCursor=function(r){let a=e.reorderDropCue&&e.reorderDropCue.is(":visible");a&&e.reorderDropCue.hide();let n=t.call(e.draggable,r);return a&&e.reorderDropCue.show(),n}},_handleExternalDraggable:function(e){var r=this,a=r.options.dropFilter.trimStart();a&&">"==a[0]&&(a=a.substring(1)),r._dragcancelHandler=r._dragcancel.bind(r),r._dragendHandler=r._dragend.bind(r),r._dragstartHandler=r._dragstart.bind(r),r._dragHandler=r._drag.bind(r),r._draggable=e.currentTarget.closest(a),r._draggableInstance=e,r._elements=r.element.find(r.options.dropFilter),e.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:r._dragcancelHandler,dragend:r._dragendHandler,dragstart:r._dragstartHandler,drag:r._dragHandler})},_dragcancel:function(){var e=this;e._draggableInstance&&(e._dragcancelHandler||e._dragendHandler||e._dragstartHandler||e._dragHandler)&&e._draggableInstance.unbind({dragcancel:e._dragcancelHandler,dragend:e._dragendHandler,dragstart:e._dragstartHandler,drag:e._dragHandler}),e.reorderDropCue&&e.reorderDropCue.remove(),e._draggable=null,e._elements=null},_dragend:function(){var e=this;e._draggableInstance&&(e._dragcancelHandler||e._dragendHandler||e._dragstartHandler||e._dragHandler)&&e._draggableInstance.unbind({dragcancel:e._dragcancelHandler,dragend:e._dragendHandler,dragstart:e._dragstartHandler,drag:e._dragHandler}),e.reorderDropCue&&e.reorderDropCue.remove(),e._draggable=null,e._elements=null},_dragstart:function(r){var a=this,t=e(r.currentTarget),n=a.options.dropFilter.trimStart();n&&">"==n[0]&&(n=n.substring(1)),a._draggable=t.is(n)?t:t.closest(n),a._elements=a.element.find(a.options.dropFilter)},_drag:function(r){var d,o,i,l,g=this,s={},_=g.options.dropFilter.trimStart();if(_&&">"==_[0]&&(_=_.substring(1)),l=e(r.currentTarget).closest(_),!(!g._dropTarget||g.options.smartPosition&&r.sender.hint.find(".k-drag-status").is(".k-i-cancel,.k-svg-i-cancel"))){if(o=(d=g._index(g._dropTarget))>(o=g._index(l))?o+1:o,"horizontal"===g.options.orientation){var p=n(g._dropTarget).left,c=a(g._dropTarget);r.pageX>p+c/2?(s.left=p+c,d+=1):s.left=p}else{var u=n(g._dropTarget).top,b=t(g._dropTarget);r.pageY>u+b/2?(s.top=u+b,d+=1):s.top=u}g.reorderDropCue.css(s),g.options.positionDropCue&&g.options.positionDropCue(g.reorderDropCue,g._dropTarget),g._isPartOfSortable(l)&&(i=o===d&&!g.options.allowDropAfterLastItem||g.options.dragOverContainers&&!g.options.dragOverContainers(o,d)||r.clickMoveClick&&r.currentTarget.hasClass("k-drag-cell")&&0===e(r.elementUnderCursor).closest(".k-drag-cell").length,g.toggleHintClass(r.sender.hint,i))}},_isPartOfSortable:function(e){return this._elements.index(e)>=0},_externalDraggable:function(e){var r=this.options;return!this._draggable&&r.externalDraggable?r.externalDraggable(e):null},_isLastDraggable:function(){var e,r=this.options.inSameContainer,a=this._draggable[0],t=this._elements.get(),n=!1;if(!r)return!1;for(;!n&&t.length>0;)n=a!==(e=t.pop())&&r({source:a,target:e,sourceIndex:this._index(a),targetIndex:this._index(e)});return!n},_dropTargetAllowed:function(e){var r=this.options.inSameContainer,a=this.options.dragOverContainers,t=this._draggable;return t[0]!==e[0]&&(!r||!a||(!!r({source:t,target:e,sourceIndex:this._index(t),targetIndex:this._index(e)})||a(this._index(t),this._index(e))))},_index:function(e){return this._elements.index(e)},destroy:function(){var r=this;d.fn.destroy.call(r),r.element.find(r.options.dropFilter).each((function(){var r=e(this);r.data("kendoDropTarget")&&r.data("kendoDropTarget").destroy()})),r.draggable&&(r.draggable.destroy(),r.draggable.element=r.draggable=null),r.reorderDropCue.remove(),r.elements=r.reorderDropCue=r._elements=r._draggable=null}});r.ui.plugin(i)}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.reorderable.js.map
